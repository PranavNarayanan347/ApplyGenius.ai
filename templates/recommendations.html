<!-- recommendations.html -->
{% extends 'base.html' %}
{% block title %}Job Recommendations{% endblock %}
{% block content %}
<h2 class="text-2xl font-bold mb-6 text-orange-600">Recommended Jobs Based on Your Applications</h2>
<div id="loading" class="text-center text-gray-600 mb-6 hidden">
    <span class="inline-block animate-spin mr-2 border-4 border-orange-300 border-t-transparent rounded-full w-6 h-6"></span>
    Fetching job listings...
</div>

<div id="job-list" class="grid grid-cols-1 md:grid-cols-2 gap-6">
    {% for job in jobs %}
    <div class="bg-white rounded-lg shadow-md p-6 transition duration-300 hover:shadow-lg">
        <h3 class="text-lg font-semibold text-gray-800">{{ job.title }}</h3>
        <p class="text-sm text-gray-600 mb-2">
            {{ job.company }} â€” 
            <span class="inline-block px-2 py-0.5 rounded bg-orange-100 text-orange-700 text-xs font-medium">
                {{ job.location }}
            </span>
        </p>
        <p class="text-sm text-gray-700 mb-4">{{ job.description }}</p>
        <a href="{{ job.url }}" target="_blank" class="inline-block bg-orange-500 text-white px-4 py-2 rounded hover:bg-orange-600 transition">Apply Now</a>
    </div>
    {% endfor %}
</div>

<script>
    document.addEventListener("DOMContentLoaded", () => {
        const loading = document.getElementById("loading");
        const jobList = document.getElementById("job-list");
        loading.classList.remove("hidden");
        setTimeout(() => {
            loading.classList.add("hidden");
            jobList.classList.remove("hidden");
        }, 600); // Simulate a loading effect
    });
</script>
{% endblock %}